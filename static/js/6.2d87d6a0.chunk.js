(this.webpackJsonp4Cast=this.webpackJsonp4Cast||[]).push([[6],{496:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a(0);var n=a(507),c=a.n(n),r=a(69),o=a(482),s=a(483),i=a(484),l=a(187),j=a(485),d=a(57),h=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));function p(e){var t=e.xAxis,a=e.projectionLower,n=e.projection,l=e.projectionUpper,p=e.stockSym,b=e.globalQuote,u=h();return Object(d.jsx)(r.a,{className:u.paper,variant:"outlined",elevation:4,children:Object(d.jsx)(o.a,{children:Object(d.jsxs)(s.a,{children:[Object(d.jsx)(c.a,{data:[{x:t,y:l,type:"lines+markers",name:"Projection upper",line:{color:"rgb(0, 255, 0)",width:2}},{x:t,y:n,type:"lines+markers",name:"Projection",line:{color:"rgb(0, 0, 255)",width:2}},{x:t,y:a,type:"lines+markers",name:"Projection lower",line:{color:"rgb(255, 0, 0)",width:2}}],layout:{title:p,margin:{t:75,l:40,r:20,b:40},showlegend:!1,autosize:!0,useResizeHandler:!0},style:{width:"100%",height:"100%",display:"flex",flex:1}}),Object(d.jsx)(i.a,{children:b["Global Quote"]?Object(d.jsxs)(j.a,{container:!0,spacing:2,children:[Object(d.jsxs)(j.a,{item:!0,xs:6,sm:3,children:[" ",Object(d.jsx)("strong",{children:"Open: "})," ",parseFloat(b["Global Quote"]["02. open"]).toFixed(2)]}),Object(d.jsxs)(j.a,{item:!0,xs:6,sm:3,children:[" ",Object(d.jsx)("strong",{children:"High: "}),parseFloat(b["Global Quote"]["03. high"]).toFixed(2)]}),Object(d.jsxs)(j.a,{item:!0,xs:6,sm:3,children:[" ",Object(d.jsx)("strong",{children:"Low: "}),parseFloat(b["Global Quote"]["04. low"]).toFixed(2)]}),Object(d.jsxs)(j.a,{item:!0,xs:6,sm:3,children:[" ",Object(d.jsx)("strong",{children:"Price: "})," ",parseFloat(b["Global Quote"]["05. price"]).toFixed(2)]}),Object(d.jsxs)(j.a,{item:!0,xs:6,sm:3,children:[" ",Object(d.jsx)("strong",{children:"Volume: "}),b["Global Quote"]["06. volume"]]}),Object(d.jsxs)(j.a,{item:!0,xs:6,sm:3,children:[" ",Object(d.jsx)("strong",{children:"Previous Close: "}),parseFloat(b["Global Quote"]["08. previous close"]).toFixed(2)]}),Object(d.jsxs)(j.a,{item:!0,xs:6,sm:3,children:[" ",Object(d.jsx)("strong",{children:"Change $: "})," ",parseFloat(b["Global Quote"]["09. change"]).toFixed(2)]}),Object(d.jsxs)(j.a,{item:!0,xs:6,sm:3,children:[" ",Object(d.jsx)("strong",{children:"Change %: "}),b["Global Quote"]["10. change percent"]]})]}):null})]})})})}},512:function(e,t){},513:function(e,t){},572:function(e,t,a){"use strict";a.r(t);var n=a(506),c=a(527),r=a(199),o=a.n(r),s=a(0),i=a(37),l=a(187),j=a(332),d=a.n(j),h=a(496),p=a(69),b=a(485),u=a(279),x=a(508),O=a.n(x),m=a(568),g=a(571),f=a(478),y=a(480),S=a(481),v=a(479),w=a(112),C=a(526),N=a.n(C),F=a(487),k=a(292),_=a(486),D=a(567),P=a.n(D),G=a(287),Q=a(57),T=Object(l.a)((function(e){return{root:{flexGrow:1,width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,fontSize:"2.7em"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center",backgroundColor:e.palette.secondary.light,display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},column:{flexBasis:"100%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},scrollbar:{height:"70%",width:"70%",display:"flex",flex:1},textField:{margin:e.spacing(3)},button:{margin:e.spacing(3)}}}));t.default=function(){var e=Object(i.a)(),t=T(),a=Object(s.useState)(null),r=Object(c.a)(a,2),l=r[0],j=r[1],x=Object(s.useState)(null),C=Object(c.a)(x,2),D=C[0],z=C[1],A=Object(s.useState)(null),I=Object(c.a)(A,2),R=I[0],E=I[1],J=Object(s.useState)(null),V=Object(c.a)(J,2),H=V[0],L=V[1],M=Object(s.useState)(!1),U=Object(c.a)(M,2),W=U[0],q=U[1],B=Object(s.useState)("CSV can only contain two columns. first column requires date and second requires value in that order"),$=Object(c.a)(B,2),K=$[0],X=$[1],Y=Object(s.useState)("file name"),Z=Object(c.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(s.useState)([]),ne=Object(c.a)(ae,2),ce=ne[0],re=ne[1],oe=Object(s.useState)({}),se=Object(c.a)(oe,2),ie=se[0],le=se[1],je=Object(s.useState)("Project Name"),de=Object(c.a)(je,2),he=de[0],pe=de[1],be=Object(s.useState)("Enter Description Here"),ue=Object(c.a)(be,2),xe=ue[0],Oe=ue[1],me=Object(s.useCallback)((function(e){var t=new FileReader;q(!0);te("".concat(e[0].name.split(".")[0]," Casted ").concat(Date().split(" ").slice(0,5).join(" "))),t.readAsText(e[0]),t.onload=function(){O.a.parse(t.result,(function(e,t){if(e)return console.error("Parsed CSV error: ",e);X("Waiting on your 90 Day Forecast"),function(e){fetch("https://four-cast-app.herokuapp.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e})}).then((function(e){return e.json()})).then((function(e){O.a.parse(e.data,(function(e,t){if(e)console.error(e),q(!1);else{var a=[],n=[],c=[],r=[];t.shift(),t.forEach((function(e){e&&(a.push(e[1]),c.push(parseFloat(e[2]).toFixed(2)),n.push(parseFloat(e[3]).toFixed(2)),r.push(parseFloat(e[4]).toFixed(2)))})),j(a),E(c),z(n),L(r),q(!1)}}))})).catch((function(e){return console.error(e)}))}(t)}))}}),[j,z,E,L]),ge=Object(m.a)({onDrop:me}),fe=ge.getRootProps,ye=ge.getInputProps,Se=ge.isDragActive;Object(s.useEffect)((function(){fetch("http://127.0.0.1:3000/projects/").then((function(e){return e.json()})).then(re)}),[]);return Object(Q.jsx)(o.a,{pageTitle:e.formatMessage({id:"stock_cast",defaultMessage:"Cast CSV"}),children:Object(Q.jsx)(d.a,{className:t.scrollbar,children:Object(Q.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",className:t.grid,spacing:0,children:[l?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(b.a,{item:!0,xs:2,sm:2,children:Object(Q.jsx)(u.a,{className:t.button,size:"large",variant:"contained",color:"secondary",onClick:function(){return window.location.reload()},children:"Reset"})}),Object(Q.jsx)(b.a,{item:!0,xs:4,sm:4,children:Object(Q.jsx)(p.a,{className:t.root,children:Object(Q.jsxs)(f.a,{defaultExpanded:!1,children:[Object(Q.jsxs)(S.a,{expandIcon:Object(Q.jsx)(N.a,{}),"aria-controls":"panel1c-content",id:"panel1c-header",children:[Object(Q.jsx)("div",{className:t.column,children:Object(Q.jsx)(w.a,{className:t.heading,children:"Save to New"})}),Object(Q.jsx)("div",{className:t.column})]}),Object(Q.jsxs)(y.a,{className:t.details,children:[Object(Q.jsx)("div",{className:t.column}),Object(Q.jsx)(G.a,{id:"standard-basic",label:"Name Project",value:he,onChange:function(e){return pe(e.target.value)}}),Object(Q.jsx)("br",{}),Object(Q.jsx)(G.a,{id:"outlined-multiline-flexible",label:"Describe Project",multiline:!0,rowsMax:4,value:xe,onChange:function(e){return Oe(e.target.value)},variant:"outlined"})]}),Object(Q.jsx)(k.a,{}),Object(Q.jsx)(v.a,{children:Object(Q.jsx)(u.a,{size:"small",color:"primary",onClick:function(){return function(){var e={project:{name:he,description:xe,graph:{stock_sym:"".concat(ee.toString().toUpperCase()," Casted ").concat(Date().split(" ").slice(0,5).join(" ")),x_axis_array:l.toString(),proj_low_array:D.toString(),proj_high_array:R.toString(),proj_array:H.toString()}}};fetch("http://localhost:3000/projects/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then(window.alert("".concat(ee," has been saved to ").concat(he)))}()},children:"Save"})})]})})}),Object(Q.jsx)(b.a,{item:!0,xs:4,sm:4,children:Object(Q.jsx)(p.a,{className:t.root,children:Object(Q.jsxs)(f.a,{defaultExpanded:!1,children:[Object(Q.jsxs)(S.a,{expandIcon:Object(Q.jsx)(N.a,{}),"aria-controls":"panel1c-content",id:"panel1c-header",children:[Object(Q.jsx)("div",{className:t.column,children:Object(Q.jsx)(w.a,{className:t.heading,children:"Save to Existing"})}),Object(Q.jsx)("div",{className:t.column})]}),Object(Q.jsxs)(y.a,{className:t.details,children:[Object(Q.jsx)("div",{className:t.column}),Object(Q.jsx)("div",{className:t.column,children:ce.map((function(e){return Object(Q.jsx)(F.a,{color:"primary",size:"small",label:e.name,deleteIcon:Object(Q.jsx)(P.a,{}),onDelete:function(){return le(e)},avatar:Object(Q.jsx)(_.a,{children:e.id})})}))})]}),Object(Q.jsx)(k.a,{}),Object(Q.jsx)(v.a,{children:Object(Q.jsx)(u.a,{size:"small",color:"primary",onClick:function(){return function(){var e={project:ie.id,stock_sym:"".concat(ee," Casted ").concat(Date().split(" ").slice(0,5).join(" ")),x_axis_array:l.toString(),proj_low_array:D.toString(),proj_high_array:R.toString(),proj_array:H.toString()};fetch("http://localhost:3000/graphs/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then(window.alert("".concat(ee.split(" ")[0]," has been saved to ").concat(ie.name)))}()},children:"Save"})})]})})})]}):Object(Q.jsx)(Q.Fragment,{children:W?null:Object(Q.jsx)(b.a,{item:!0,lg:12,alignItems:"center",children:Object(Q.jsxs)(p.a,Object(n.a)(Object(n.a)({},fe()),{},{children:[Object(Q.jsx)("input",Object(n.a)({},ye())),Se?Object(Q.jsx)(p.a,{className:t.paper,children:"Drop the file here ..."}):Object(Q.jsx)(p.a,{className:t.paper,children:"Drag and Drop a CSV here...or Click to Select File."})]}))})}),Object(Q.jsxs)(b.a,{item:!0,xs:12,sm:12,children:[Object(Q.jsx)(p.a,{className:t.paper,children:l?Object(Q.jsx)(h.a,{xAxis:l,projectionLower:D,projection:R,projectionUpper:H,stockSym:ee,globalQuote:{}}):K}),W?Object(Q.jsx)(g.a,{variant:"rect",height:500}):null]})]})})})}}}]);
//# sourceMappingURL=6.2d87d6a0.chunk.js.map