{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","pages/FilterDemo/index.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","filterName","CustomScrollbars","onScroll","forwardedRef","style","children","isRTL","useAppTheme","refSetter","useCallback","scrollbarsRef","view","ref","renderView","props","marginLeft","marginRight","overflow","direction","CustomScrollbarsVirtualList","React","forwardRef","FilterDemo","intl","useIntl","useFilter","openFilter","getList","getFilter","setSearch","queries","search","searchValue","fields","name","label","type","list","listRef","createRef","useEffect","current","scrollToItem","Row","index","amount","registered","email","console","log","alignItems","primary","secondary","Fragment","component","variant","color","pageTitle","formatMessage","id","defaultMessage","count","contentStyle","appBarContent","disableGutters","initialValue","onChange","v","onClick","undefined","height","width","disablePadding","className","itemCount","itemSize","outerElementType"],"mappings":"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","file":"static/js/9.e14ae960.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import AutoSizer from 'react-virtualized-auto-sizer'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport FilterDrawer from 'material-ui-shell/lib/components/FilterDrawer'\r\nimport FilterList from '@material-ui/icons/FilterList'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Page from 'material-ui-shell/lib/containers/Page'\r\nimport React, { useEffect, useCallback } from 'react'\r\nimport SearchField from 'material-ui-shell/lib/components/SearchField'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport source from './data.json'\r\nimport { FixedSizeList } from 'react-window'\r\nimport { Scrollbars } from 'react-custom-scrollbars'\r\nimport { useFilter } from 'material-ui-shell/lib/providers/Filter'\r\nimport { useIntl } from 'react-intl'\r\nimport { useTheme as useAppTheme } from 'material-ui-shell/lib/providers/Theme'\r\n\r\nconst filterName = 'test_filter'\r\n\r\nconst CustomScrollbars = ({ onScroll, forwardedRef, style, children }) => {\r\n  const { isRTL } = useAppTheme()\r\n  const refSetter = useCallback((scrollbarsRef) => {\r\n    if (scrollbarsRef) {\r\n      forwardedRef(scrollbarsRef.view)\r\n    } else {\r\n      forwardedRef(null)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n  return (\r\n    <Scrollbars\r\n      ref={refSetter}\r\n      renderView={props => (\r\n        isRTL ? <div {...props} style={{\r\n          ...props.style,\r\n          marginLeft: props.style.marginRight,\r\n          marginRight: 0, }} /> : <div {...props} style={{\r\n            ...props.style,}} />\r\n      )}\r\n      // style={{ ...style, overflow: 'hidden' }}\r\n      style={{ ...style, overflow: 'hidden', direction: isRTL ? 'rtl' : 'ltr' }} //james - test code should fix native scrollbars in demofilter and maybe in RMW demos,\r\n      onScroll={onScroll}\r\n    >\r\n      {children}\r\n    </Scrollbars>\r\n  )\r\n}\r\n\r\nconst CustomScrollbarsVirtualList = React.forwardRef((props, ref) => (\r\n  <CustomScrollbars {...props} forwardedRef={ref} />\r\n))\r\n\r\nconst FilterDemo = () => {\r\n  const intl = useIntl()\r\n  const { openFilter, getList, getFilter, setSearch } = useFilter()\r\n\r\n  const { queries = [], search = {} } = getFilter(filterName)\r\n  const { value: searchValue = '' } = search\r\n\r\n  const fields = [\r\n    {\r\n      name: 'name',\r\n      label: 'Name',\r\n    },\r\n    {\r\n      name: 'email',\r\n      label: 'E-Mail',\r\n    },\r\n    {\r\n      name: 'amount',\r\n      label: 'Amount',\r\n      type: 'number',\r\n    },\r\n    {\r\n      name: 'isActive',\r\n      label: 'Active',\r\n      type: 'bool',\r\n    },\r\n    {\r\n      name: 'registered',\r\n      label: 'Registered',\r\n      type: 'date',\r\n    },\r\n    {\r\n      name: 'registrationTime',\r\n      label: 'Registration time',\r\n      type: 'time',\r\n    },\r\n  ]\r\n\r\n  const list = getList(filterName, source, fields)\r\n\r\n  const listRef = React.createRef()\r\n\r\n  useEffect(() => {\r\n    if (listRef.current) {\r\n      listRef.current.scrollToItem(1500, 'center')\r\n    }\r\n  }, [listRef])\r\n\r\n  const Row = ({ index, style }) => {\r\n    const { name, amount = '', registered, email } = list[index]\r\n    console.log(style, \"here\");\r\n    return (\r\n      <div key={`${name}_${index}`} style={style}>\r\n        <ListItem alignItems=\"flex-start\">\r\n          <ListItemText\r\n            primary={`${name} ${index}`}\r\n            secondary={\r\n              <React.Fragment>\r\n                <Typography\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                  color=\"textSecondary\"\r\n                >\r\n                  {email}\r\n                </Typography>\r\n                <br />\r\n                <Typography\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                  color=\"textSecondary\"\r\n                >\r\n                  {`${amount} ${registered}`}\r\n                </Typography>\r\n              </React.Fragment>\r\n            }\r\n          />\r\n        </ListItem>\r\n        <Divider />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Page\r\n      pageTitle={intl.formatMessage(\r\n        {\r\n          id: 'filter_demo',\r\n          defaultMessage: 'Filter demo with {count} rows',\r\n        },\r\n        { count: list.length }\r\n      )}\r\n      contentStyle={{ overflow: 'hidden' }}\r\n      appBarContent={\r\n        <Toolbar disableGutters>\r\n          <SearchField\r\n            initialValue={searchValue}\r\n            onChange={(v) => {\r\n              setSearch(filterName, v)\r\n            }}\r\n          />\r\n          <IconButton color=\"inherit\" onClick={() => openFilter(filterName)}>\r\n            <FilterList color={queries.length > 0 ? 'secondary' : undefined} />\r\n          </IconButton>\r\n        </Toolbar>\r\n      }\r\n    >\r\n      <AutoSizer style={{ height: '100%', width: '100%' }}>\r\n        {({ height, width }) => {\r\n          return (\r\n            <List disablePadding={true}>\r\n              <FixedSizeList\r\n                className=\"List\"\r\n                ref={listRef}\r\n                height={height}\r\n                itemCount={list.length}\r\n                itemSize={91}\r\n                width={width}\r\n                outerElementType={CustomScrollbarsVirtualList}\r\n              >\r\n                {Row}\r\n              </FixedSizeList>\r\n            </List>\r\n          )\r\n        }}\r\n      </AutoSizer>\r\n      <FilterDrawer fields={fields} name={filterName} />\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default FilterDemo"],"sourceRoot":""}